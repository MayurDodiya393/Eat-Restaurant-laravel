================================================================================
EAT RESTAURANT LARAVEL - SIMPLE FLOW EXPLANATION (QUICK VERSION)
================================================================================

WHAT IS LARAVEL?
================
Laravel is a PHP framework that makes building websites easier.
It handles: requests, database, security, authentication, etc.

HOW IT WORKS
============
1. User visits URL → Browser sends request
2. routes/web.php finds matching route
3. Route calls a Controller method
4. Controller processes and returns a view (HTML page)
5. HTML is sent back to browser

EXAMPLE: User visits /about
  1. routes/web.php: Route::get('/about', [PageController::class, 'about'])
  2. PageController's about() method runs
  3. Returns: view('about') - shows about.blade.php file
  4. HTML sent to browser


CONTROLLERS (5 files in app/Http/Controllers/)
==============================================

1. PageController.php
   - home() → Shows home page
   - about() → Shows about page
   - services() → Shows services page
   - gallery() → Shows gallery page
   - feedback() → Shows feedback page

2. AuthController.php
   - showLogin() → Shows login form
   - login() → Processes login (checks password)
   - showRegister() → Shows registration form
   - register() → Creates new user
   - logout() → Logs out user

3. ContactController.php
   - show() → Shows contact form
   - send() → Saves contact message to database

4. DashboardController.php
   - index() → Shows user dashboard (private page)

5. AdminController.php
   - contactMessages() → Shows all contact messages


MODELS (2 files in app/Models/)
===============================

1. User.php
   Represents "users" database table
   Fields: id, name, email, password, created_at, updated_at

2. ContactDetail.php
   Represents "contact_details" database table
   Fields: id, name, email, message, created_at, updated_at


DATABASE CONNECTION
===================
.env file → config/database.php → Laravel connects to MySQL
   ↓
Uses DB_HOST, DB_PORT, DB_DATABASE, DB_USERNAME, DB_PASSWORD

Example: When you do ContactDetail::create()
  1. Laravel reads .env for database credentials
  2. Connects to MySQL at 127.0.0.1:3306
  3. Selects database: Eat_restaurant_laravel
  4. Inserts data into contact_details table
  5. Returns success


.ENV FILE
=========
Location: c:\xampp\htdocs\Eat-Restaurant-laravel\.env

Important Variables:
  APP_KEY = Secret key for encryption (generate with: php artisan key:generate)
  APP_ENV = local (development) or production
  DB_HOST = 127.0.0.1 (localhost)
  DB_DATABASE = Eat_restaurant_laravel
  DB_USERNAME = root
  DB_PASSWORD = (empty for XAMPP)


LIBRARIES WE USE
================

1. Hash
   - Hashes passwords (converts to unreadable string)
   - Hash::make('password123') → '$2y$12$...'
   - Hash::check('password123', hash) → true/false

2. Auth
   - Handles user login/logout
   - Auth::attempt(['email' => 'john@example.com', 'password' => '123'])
   - Auth::user() → Returns logged-in user
   - Auth::logout() → Logs out user

3. Eloquent ORM
   - Makes database operations easy
   - User::create() → Insert user
   - User::all() → Get all users
   - User::find(1) → Get user by ID
   - User::where('email', 'john@example.com')->first() → Find by email

4. Validation
   - Checks if form input is valid
   - $request->validate(['name' => 'required|string'])

5. Blade
   - Template engine for HTML
   - {{ $variable }} → Output variable
   - @auth → Check if logged in
   - @foreach → Loop

6. Middleware
   - Filters requests before controller
   - 'auth' middleware → Only logged-in users
   - 'guest' middleware → Only non-logged-in users


ROUTES (14 total in routes/web.php)
===================================

PUBLIC (Everyone):
  GET  /                   → PageController@home
  GET  /about              → PageController@about
  GET  /services           → PageController@services
  GET  /gallery            → PageController@gallery
  GET  /feedback           → PageController@feedback
  GET  /contact            → ContactController@show
  POST /contact/send       → ContactController@send

GUEST ONLY (Not logged in):
  GET  /login              → AuthController@showLogin
  POST /login              → AuthController@login
  GET  /register           → AuthController@showRegister
  POST /register           → AuthController@register

PROTECTED (Logged in only):
  GET  /dashboard          → DashboardController@index
  POST /logout             → AuthController@logout
  GET  /admin/contact-messages → AdminController@contactMessages


COMMON SCENARIOS
================

REGISTRATION:
  1. User visits /register
  2. Fills form (name, email, password)
  3. Submits to POST /register
  4. AuthController validates
  5. Hash::make() hashes password
  6. User::create() saves to database
  7. Redirects to login page

LOGIN:
  1. User visits /login
  2. Fills email and password
  3. Submits to POST /login
  4. Auth::attempt() checks if exists in database
  5. If match: Creates session, redirects to dashboard
  6. If no match: Shows error, redirects back

CONTACT FORM:
  1. User visits /contact
  2. Fills name, email, message
  3. Submits to POST /contact/send
  4. ContactController validates
  5. ContactDetail::create() saves to database
  6. Shows success message

ADMIN VIEWING MESSAGES:
  1. Admin visits /admin/contact-messages
  2. AdminController fetches messages
  3. ContactDetail::latest()->paginate(10)
  4. Shows all messages with pagination


IMPORTANT COMMANDS
==================

Start server:
  php artisan serve
  Opens at http://localhost:8000

Create database:
  php artisan setup:project

Generate encryption key:
  php artisan key:generate

Run migrations:
  php artisan migrate

View all routes:
  php artisan route:list


SECURITY FEATURES
=================
1. Password Hashing (Hash::make)
2. CSRF Protection (@csrf in forms)
3. Session Management (remembers logged-in user)
4. Input Validation (checks form data)
5. Middleware Protection (controls route access)


FILE LOCATIONS
==============
Controllers     → app/Http/Controllers/
Models          → app/Models/
Views (HTML)    → resources/views/
Routes          → routes/web.php
Database config → .env file
Migrations      → database/migrations/


QUICK SUMMARY
=============
✓ User visits URL
✓ Route finds matching Controller method
✓ Controller processes request
✓ Model handles database operations
✓ View (Blade template) shows HTML
✓ HTML sent back to browser

================================================================================
